# Kotlin 2.0 마이그레이션

## 참고 사이트

- [Kotlin 공식 사이트](https://kotlinlang.org/docs/gradle-compiler-options.html#migrate-from-kotlinoptions-to-compileroptions)
- [마이그레이션 참고](https://medium.com/@l2hyunwoo/kotlin-2-0%EC%9C%BC%EB%A1%9C-%EB%A7%88%EC%9D%B4%EA%B7%B8%EB%A0%88%EC%9D%B4%EC%85%98%ED%95%98%EA%B8%B0-1742f294df51)

## 1. 컴파일러 K2 모드 활성화
  
- [설정] -> [Languages & Frameworks] -> [Kotlin]
- Enable K2 mode 체크
  <img width="231" height="450" alt="스크린샷 2025-09-05 오후 7 38 00" src="https://github.com/user-attachments/assets/3430b4d8-faaa-4545-ad1f-bb9b5d4db76b" />|<img width="459" height="114" alt="스크린샷 2025-09-05 오후 7 37 32" src="https://github.com/user-attachments/assets/58d64441-cbf4-43bd-9b62-9c216e98ed83" />
  |:---:|:---|
<br/>

## 2. .gitignore 항목 추가

```kotlin
# .gitignore
.DS_Store
.kotlin/
```
<br/>

## 3. 그래들 오류

- [SDK Manager] -> [SDK Tools]
- Android SDK Build-Tools 최신버전으로 업데이트
  <img width="267" height="88" alt="스크린샷 2025-09-05 오후 7 39 40" src="https://github.com/user-attachments/assets/162521c5-f32e-407b-9c27-809600bd9b0f" />|<img width="709" height="170" alt="스크린샷 2025-09-05 오후 7 36 51" src="https://github.com/user-attachments/assets/b2d9cd86-31d8-42ab-84a2-37044c504b1c" />
  |:---:|:---:|
  <br/>
  
## 3-1. targetSdk & jvmTarget 경고

### targetSdk

|compileSdk와 targetSdk 버전이 달라서 생기는 __⚠️경고__|compileSdk와 targetSdk 버전을 맞추면 생기는 __⛔️오류__|
|:---:|:---:|
<img width="438" height="154" alt="스크린샷 2025-09-05 오후 7 41 13" src="https://github.com/user-attachments/assets/af3923c1-5212-4288-9c0c-e17395c5912b" />|<img width="438" height="197" alt="스크린샷 2025-09-05 오후 7 47 29" src="https://github.com/user-attachments/assets/4c89833a-69b8-40d2-b05c-2118ecc2f3fc" />
|`Not targeting the latest versions of Android; compatibility modes apply. Consider testing and updating this version. Consult the `android.os.Build.VERSION_CODES` javadoc for details.`|`It looks like you just edited the `targetSdkVersion` from 35 to 36 in the editor. Be sure to consult the documentation on the behaviors that change as result of this. The Android SDK Upgrade Assistant can help with safely migrating.`|

compileSdk와 targetSdk 버전 맞추는 게 맞는데 아직 안드로이드 그래들이 36을 지원하지 않는 듯함. 아닌가...?

### jvmTarget

<img width="208" height="77" alt="스크린샷 2025-09-05 오후 7 42 44" src="https://github.com/user-attachments/assets/bf2f49d4-f8cd-423e-85bc-fbaf51981ed8" />

`'var jvmTarget: String' is deprecated. Please migrate to the compilerOptions DSL. More details are here: https://kotl.in/u1r8ln.`

`kotlinOptions{}` -> `kotlin{}` 으로 변경
```Kotlin
kotlinOptions {
    jvmTarget = "11"
}

->

kotlin{
    compilerOptions {
        // 특정 값을 직접 전달
        // 특정 버전을 명확하게 명시
        jvmTarget.set(JvmTarget.JVM_11)

        // `taragetCompatibility`에 설정된 Jvm 버전을 가져와 적용
        // 코드 중복을 줄이고 일관성 유지
        // Kotlin 공식 사이트에서는 이 방법을 예시로 들었음
        jvmTarget = JvmTarget.fromTarget("11" )
    }
}
```
