## 타이머 기능 추가

출발 시작부터 경과 시간을 화면에 표시

<br>

## 타이머 표시

Hierarchy &rarr; UI &rarr; Legacy &rarr; Text

<img width="590" height="791" alt="스크린샷 2026-01-05 오후 4 43 33" src="https://github.com/user-attachments/assets/cceea011-0cde-4262-96d8-47da65179857" />

<br>

## 타이머 기능

- 시간 측정
- TimerText의 텍스트 변경
- 목표 지점에 도달하면 시간 측정 멈추기

Timer 스크립트|
|:---:|

```C#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;

public class Timer : MonoBehaviour
{
    // 경과 시간
    public static float time;

    // Start is called before the first frame update
    void Start()
    {
        // 게임 시작하면 0으로 초기화
        time = 0;
    }

    // Update is called once per frame
    void Update()
    {
        // 목표 지점에 도달하지 못했으면
        if (Goal.goal == false)
        {
            // 시간 계속 경과
            time += Time.deltaTime;
            // == 목표 지점에 도달하면 타이머 정지
        }
        // FloorToInt -> 소수점 이하를 버리고 정수형 타입의 값으로 변환
        int t = Mathf.FloorToInt(time);
        Text uiText = GetComponent<Text>();
        uiText.text = "Time:" + t;
    }
}
```



https://github.com/user-attachments/assets/29b20cde-79f5-40ad-baeb-10d995d69895


https://github.com/user-attachments/assets/1a2f5df7-602b-497d-9ae1-a1bc21790393


<br>

## 결과 화면

목표 지점에 도달 &rarr; 결과 화면 표시
- 경과 시간
- 최고 기록
    - 데이터 저장
- 재시작 버튼

<br>

### 결과 화면 생성

#### 결과 화면 타이틀

Hierarchy &rarr; UI &rarr; Legacy &rarr; Text

<img width="591" height="790" alt="스크린샷 2026-01-05 오후 5 10 15" src="https://github.com/user-attachments/assets/7a87974e-64f4-4249-be31-c43cb384e821" />

<br>

#### 목표 지점에 도달한 시간

Hierarchy &rarr; UI &rarr; Legacy &rarr; Text

<img width="589" height="782" alt="스크린샷 2026-01-05 오후 5 13 20" src="https://github.com/user-attachments/assets/4c41747d-2221-4a03-88e2-a0019a24fd0d" />

<br>

#### 최고 기록

Hierarchy &rarr; UI &rarr; Legacy &rarr; Text

<img width="589" height="787" alt="스크린샷 2026-01-05 오후 5 15 51" src="https://github.com/user-attachments/assets/b0340440-18b6-4639-a896-ec7d1acf61ce" />

<br>

#### 재시작 버튼

Hierarchy &rarr; UI &rarr; Legacy &rarr; Button

<img width="591" height="788" alt="스크린샷 2026-01-05 오후 5 18 41" src="https://github.com/user-attachments/assets/6d133fd2-68a0-4464-ba49-5ee4d29ef199" />

<br>

### 결과 화면 숨기기

- 게임을 실행하고 목표 지점에 도달할 때까지 표시 X
- 목표 지점에 도달했을 때 표시 O

<br>

#### 추가한 요소 정리

Create Empty

<img width="310" height="302" alt="스크린샷 2026-01-05 오후 5 23 11" src="https://github.com/user-attachments/assets/301224bf-4133-4728-b530-3aa6f5b3b256" />

<br>

#### 정리한 요소 한번에 숨기기

Inspector 체크 해제

<img width="480" height="177" alt="스크린샷 2026-01-05 오후 5 24 22" src="https://github.com/user-attachments/assets/62c3bc92-f8d9-420d-b996-e0bd53680ad9" />

체크 전|체크 후
|:---:|:---:|
<img width="587" height="784" alt="스크린샷 2026-01-05 오후 5 26 21" src="https://github.com/user-attachments/assets/936bf705-eafc-4b20-8885-a4768025ef99" />|<img width="588" height="779" alt="스크린샷 2026-01-05 오후 5 25 37" src="https://github.com/user-attachments/assets/dbaf3fe7-af4a-4795-8efa-7ed5a20e4559" />

<br>

### 결과 표시 기능 추가

GameResult|
|:---:|

```C#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.SceneManagement;
using UnityEngine.UI;

public class GameResult : MonoBehaviour
{
    // 최고 기록
    private int highScore;
    // 목표 지점 도달 시간 텍스트
    public Text resultTime;
    // 최고 기록 텍스트
    public Text bestTime;
    // 결과 화면의 오브젝트 그룹(빈 오브젝트)
    public GameObject resultUI;

    // Start is called before the first frame update
    void Start()
    {
        // PlayerPrefs -> 데이터를 저장하는 클래스
        // 기록된 데이터는 게임을 종료해도 사라지지 않고 저장
        // 초기화하려면 Edit -> Clear All PlayerPrefs
        // HasKey() -> 저장된 데이터에 해당 항목의 존재 여부 판단
        // 만약 저장된 데이터에 HighScore라는 항목이 있다면
        if (PlayerPrefs.HasKey("HighScore"))
        {
            // HighScore 항목의 값을 highScore에 할당
            highScore = PlayerPrefs.GetInt("HighScore");
        }
        // 만약 저장된 데이터에 HighScore 항목이 없다면
        else
        {
            // highScore 변수를 999로 초기화
            highScore = 999;
        }
    }

    // Update is called once per frame
    void Update()
    {
        // 만약 플레이어가 목표 지점에 도달했다면
        if (Goal.goal)
        {
            // 비활성화 해둔 결과 화면 활성화하여 화면에 표시
            resultUI.SetActive(true);
            // 타이머 값 가져오기(Timer 클래스)
            int result = Mathf.FloorToInt(Timer.time);
            // 목표 도달 시간을 결과 화면 텍스트에 설정
            resultTime.text = "ResultTime:" + result;
            // 최고 기록을 결과 화면 텍스트에 설정
            bestTime.text = "BestTime:" + highScore;

            // 만약 현재 기록이 최고 기록보다 빠르면
            if (highScore > result)
            {
                // HighScore라는 항목으로 현재 기록 저장
                PlayerPrefs.SetInt("HighScore", result);
            }
        }
    }

    // 재시작 버튼을 눌렀을 때
    public void OnRetry()
    {
        // 현재 씬 재시작
        SceneManager.LoadScene(SceneManager.GetActiveScene().name);
    }
}
```

#### 컴포넌트 정리

- 각각 변수에 오브젝트 추가
- RetryButton On Click 이벤트 추가

Canvas|RetryButton
|:---:|:---:|
<img width="467" height="784" alt="스크린샷 2026-01-05 오후 5 48 57" src="https://github.com/user-attachments/assets/bfdac6ac-b660-4056-b101-45cf636ecd7e" />|<img width="468" height="488" alt="스크린샷 2026-01-05 오후 5 50 08" src="https://github.com/user-attachments/assets/fb09a9ef-14f2-4642-a9b7-8288d06e854a" />




https://github.com/user-attachments/assets/fb6ac2ec-b920-460d-84da-6c3036a3b771


