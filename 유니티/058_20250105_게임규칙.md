# 게임 규칙 설정

- 목표 지점과 시간 요소
- 최고 기록 요소
- 추락시 처음으로 리젠

<br>

## 추락 처리

- 스테이지의 바닥보다 아래쪽 위치에 낙하 판정 영역 배치
  - 플레이어가 닿을 시 추락으로 판단하고 게임 재시작

<br>

### 낙하 판정 영역 생성

Hierarchy &rarr; 3D Object &rarr; Cube

<img width="587" height="336" alt="스크린샷 2026-01-05 오후 3 45 55" src="https://github.com/user-attachments/assets/f662e5f0-fc61-4a3c-90ad-66e0bc122bca" />|<img width="589" height="344" alt="스크린샷 2026-01-05 오후 3 46 18" src="https://github.com/user-attachments/assets/c1fadb87-4454-4acd-9d79-88789cde3781" />
|:---:|:---:|

<br>

### OutArea 화면에 미표시

Mesh Renderer 제거|제거 후|
|:---:|:---:|
<img width="482" height="757" alt="스크린샷 2026-01-05 오후 3 48 30" src="https://github.com/user-attachments/assets/d0de7918-a4c2-4d88-9bb2-f1886e3d2519" />|<img width="590" height="340" alt="스크린샷 2026-01-05 오후 3 52 04" src="https://github.com/user-attachments/assets/9efb2b10-ef20-4257-b87b-c67aa73b15b5" />

<br>

### 영역화

충돌 판정 처리

<br>

#### Collider

- 오브젝트끼리의 충돌 자동으로 처리
- Is Trigger
  - 충돌 판정을 자동으로 하지 않고 진입 여부만 판단해야할 때
  - 체크
    - 캐릭터가 이 영역 위에 서있지 않고 지나감
  - 체크 해제
    - 충돌 판정 하여 캐릭터가 이 영역 위에 서있게 됨

<img width="478" height="185" alt="스크린샷 2026-01-05 오후 3 58 11" src="https://github.com/user-attachments/assets/6fdba294-ed98-49d4-b2c6-6fca9f4e3065" />

<br>

#### 코드 작성

낙하 판정 영역에 플레이어가 닿을 때 게임 재시작

Out 스크립트|
|:---:|

```C#
using System.Collections;
using System.Collections.Generic;
using Unity.VisualScripting;
using UnityEngine;
using UnityEngine.SceneManagement;

public class Out : MonoBehaviour
{
    // 찬정 영역에 무엇인가 들어왔을 때 자동으로 실행
    // Collider -> Is Trigger 체크한 오브젝트에 다른 오브젝트가 접촉한 순간 실행
    void OnTriggerEnter(Collider col)
    {
        // 만약 접촉한 오브젝트의 태그가 Player라면
        if (col.gameObject.tag == "Player")
        {       
            // SceneManager.GetActiveScene().name == 현재 씬의 이름
            // 현재 씬으로 이동 == 씬 재시작
            SceneManager.LoadScene(SceneManager.GetActiveScene().name);
        }
    }
}
```

https://github.com/user-attachments/assets/fb90ef8a-e4c1-4c2b-a4d8-2567e3366c25

<br>

## GoalArea(목표 도달 판정 영역)

### GoalArea 생성

Hierarchy &rarr; 3D Object &rarr; Cube

<img width="587" height="346" alt="스크린샷 2026-01-05 오후 4 21 06" src="https://github.com/user-attachments/assets/15806c06-cdb7-4636-ba97-657bd8ec2f61" />|<img width="590" height="339" alt="스크린샷 2026-01-05 오후 4 21 54" src="https://github.com/user-attachments/assets/94f3c382-f236-4f25-bbfe-4405dffe4f14" />
|:---:|:---:|
<img width="482" height="407" alt="스크린샷 2026-01-05 오후 4 21 46" src="https://github.com/user-attachments/assets/9a81cee8-d6fe-470d-ae8b-5bc8cf047c02" />||

<br>

### 목표 도달 처리

- 목표 영역과 플레이어의 충돌
- 목표 지점 도달 판정

Goal 스크립트|
|:---:|

```C#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Goal : MonoBehaviour
{
    // 목표 도달 판정 위한 변수
    // true -> 목표 지점 도달
    public static bool goal;

    // Start is called before the first frame update
    void Start()
    {
        // 게임이 실행되면 false로 리셋
        // 아직 목표 지점에 도달하지 못함을 의미
        goal = false;
    }

    // GoalArea에 오브젝트가 접촉하면 실행
    void OnTriggerEnter(Collider col)
    {
        // 만약 GoalArea에 들어온 오브젝트 태그가 Player라면
        if (col.gameObject.tag == "Player")
        {
            // 목표 지점 도달로 판정
            goal = true;
        }
    }
}
```

