# 플레이어 체력 상태바 구현

적 캐릭터가 공격을 받으면 HP가 줄어들어야 함

<br>

## 체력 구현

PlayerHP 스크립트 Player 오브젝트에 컴포넌트로 추가


PlayerHP 스크립트|
|:---:|

```C#
using UnityEngine;

public class PlayerHP : MonoBehaviour
{
    // 플레이어의 체력
    float hp = 100;

    // Start is called once before the first execution of Update after the MonoBehaviour is created
    void Start()
    {
        
    }

    // Update is called once per frame
    void Damaged(float damage)
    {
        // 공격 받은 데미지만큼 체력 감소
        hp -= damage;   
    }
}
```

Enemy 스크립트|
|:---:|

```C#
// Attack() 함수 밑에 추가 작성

// 공격 애니메이션 중간에 호출
void RealAttack()
{
    // 플레이어에게 10만큼 공격 받으라고 전달
    player.SendMessage("Damaged", 10);
}
```

<br>

### 적의 공격에 의한 체력 감소 타이밍




<br>

## 체력 시각화

UI &rarr; Slider
- 적 캐릭터 HP 상태바와 같이 속성 수정

```C#
using UnityEngine;
using UnityEngine.UI;

public class PlayerHP : MonoBehaviour
{
    // 플레이어의 체력
    public float hp = 100;
    // 플레이어의 체력바
    public Slider hpBar;

    // Start is called once before the first execution of Update after the MonoBehaviour is created
    void Start()
    {
        
    }

    // Update is called once per frame
    void Damaged(float damage)
    {
        // 공격 받은 데미지만큼 체력 감소
        hp -= damage;

        // 체력바에 체력 표시
        hpBar.value = hp;
    }
}
```


