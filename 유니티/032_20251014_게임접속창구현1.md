# 접속 창

서버 &rarr; 로비 &rarr; 방

<br>

## 서버 - 로비

로비: 1.StartScene &rarr; Canvas &rarr; Create Empty(Server) &rarr; 타이틀, 버튼 2개 생성한 파일 하위 항목으로 이동

Canvas &rarr; Create Empty(Lobby) 

Server, Canvas Anchor Preset Strech로 변경 &rarr; L, R, T, B 모두 0으로 변경 &rarr; Lobby 오브젝트 체크 해제

StartSceneManager 오브젝트 삭제(싱글 플레이용)

Server 스크립트(새로 생성)|
|:---:|

```C#
using Photon.Pun;
using UnityEngine;
using UnityEngine.UI;

// 포톤 관련 콜백 함수를 상속받기 위함
public class Server : MonoBehaviourPunCallbacks
{
    // 시작 버튼
    public Button startBin;
    // 로비 화면
    public GameObject lobby;

    // Start is called once before the first execution of Update after the MonoBehaviour is created
    void Start()
    {
        // 시작 버튼의 OnClick() 함수에 OnClickStart() 함수 연결
        startBin.onClick.AddListener(OnClickStart);

        // 시작 버튼 비활성화 상태로 시작
        startBin.interactable = false;

        // 서버 접속 시도
        PhotonNetwork.ConnectUsingSettings();
    }

    // 시작 버튼 누르면 호출
    void OnClickStart()
    {
        // 로비 접속 시도
        PhotonNetwork.JoinLobby();
    }

    // 서버 접속에 성공하면 호출
    public override void OnConnectedToMaster()
    {
        // 시작 버튼 활성화
        startBin.interactable = true;
    }

    // 로비 접속에 성공하면 호출
    public override void OnJoinedLobby()
    {
        // 로비 화면으로 전환
        gameObject.SetActive(false);
        lobby.SetActive(true);
    }
}
```

<img width="739" height="456" alt="스크린샷 2025-10-15 오전 1 07 44" src="https://github.com/user-attachments/assets/a1398631-48b5-4f44-ae17-79375e251324" />

<br>

### 결과

플레이시 처음에는 시작 버튼 비활성화|<img width="590" height="431" alt="스크린샷 2025-10-15 오전 1 08 32" src="https://github.com/user-attachments/assets/6f669444-6a80-4834-87b4-8431ad943c8c" />
|:---:|:---:|
몇 초 지난 후 활성화됨|<img width="589" height="431" alt="스크린샷 2025-10-15 오전 1 08 41" src="https://github.com/user-attachments/assets/d6396196-fa5f-457c-a706-2f318f523521" />
시작 버튼 클릭시|<img width="588" height="433" alt="스크린샷 2025-10-15 오전 1 10 36" src="https://github.com/user-attachments/assets/cc2bf701-d9d5-4a8b-975c-359825309f9f" />
