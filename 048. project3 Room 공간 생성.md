Room 데이터 저장 공간 추가

data class
```kotlin
@Entity
data class Record(
    @PrimaryKey val uid: Int,
    @ColumnInfo("title") var title: String,
    @ColumnInfo("place") var place: String,
    @ColumnInfo("date") var date: String,
    @ColumnInfo("mainText") var mainText: String? = null,
    @ColumnInfo("tag") var tag: String? = null,
    @ColumnInfo("photo") var photo: String? = null,
)
```

interface
```kotlin
@Dao
interface RecordDao {
    @Query("SELECT * FROM record")
    fun getAll(): Flow<List<Record>>

    @Query("SELECT * FROM record WHERE uid IN (:userIds)")
    fun loadAllByIds(userIds: IntArray): List<Record>

//    @Query("SELECT * FROM user WHERE first_name LIKE :first AND " +
//            "last_name LIKE :last LIMIT 1")
//    fun findByName(first: String, last: String): Record

    @Insert
    fun insertAll(vararg users: Record)

    @Delete
    fun delete(user: Record)

    @Update
    suspend fun update(record: Record)
}
```

class database
```kotlin
@Database(entities = [Record::class], version = 1)
@TypeConverters(UriListConverter::class)
abstract class AppDatabase : RoomDatabase() {
    abstract fun recordDao(): RecordDao

    companion object {
        @Volatile
        private var INSTANCE: AppDatabase? = null

        fun getDatabase(context: Context): AppDatabase {
            return INSTANCE ?: synchronized(this) {
                val db = Room.databaseBuilder(
                    context,
                    AppDatabase::class.java, "contacts_db"
                ).build()
                db
            }
        }
    }
}
```

Uri상태로는 저장이 불가능하여 타입변환기를 이용해 저장
```kotlin
class UriListConverter {
    @TypeConverter
    fun fromUriList(uris: List<Uri>?): String? {
        if (uris.isNullOrEmpty()) {
            return null
        }
        val gson = Gson()
        return  gson.toJson(uris)
    }

    @TypeConverter
    fun toUrisList(json: String?): List<Uri>? {
        if (json == null) {
            return null
        }
        val gson = Gson()
        val type = object  : TypeToken<List<Uri>>() {}.type
        return gson.fromJson(json, type)
    }
}
```

----------------------
현재 화면이 전환될 페이지에 있을 경우 작동하지 않게 만들었음
```kotlin
//내비게이션바
@Composable
fun NavigateBar(
    homeColor: Color,
    searchColor: Color,
    mapColor: Color,
    myRecordColor: Color,
    context: Context
) {
    Surface(
        modifier = Modifier
            .fillMaxWidth()
            .height(60.dp),
        color = Color.White
    ) {
        Column {
            Box(
                modifier = Modifier
                    .height(4.dp)
                    .fillMaxWidth()
                    .background(
                        brush = gra(
                            "v",
                            "shadow"
                        ) as Brush,
                        shape = RectangleShape
                    )
            )
            Row(
                horizontalArrangement = Arrangement.SpaceBetween
            ) {
                NavigateBarButton(
                    bannerMenu = "기록",
                    navigateIcon = R.drawable.editnote,
                    iconDetail = "기록 화면",
                    color = homeColor,
                    context = context,
//                    componentActivity = RecordActivity::class.java
                    onClick = {
                        //!is는 클래스의 인스턴스거나 그의 하위 클래스가 아닐 때 조건이 참
                        //!=는 클래스의 인스턴스를 직접 비교
                        if (context !is RecordActivity) {
                            val intent = Intent(context, RecordActivity::class.java)
                            context.startActivity(intent)
                        }
                    }
                )
                NavigateBarButton(
                    bannerMenu = "검색",
                    navigateIcon = R.drawable.search,
                    iconDetail = "검색 화면",
                    color = searchColor,
                    context = context,
                    onClick = {
                        if (context !is MainActivity) {
                            val intent = Intent(context, MainActivity::class.java)
                            context.startActivity(intent)
                        }
                    }
                )
                NavigateBarButton(
                    bannerMenu = "지도",
                    navigateIcon = R.drawable.map,
                    iconDetail = "지도 화면",
                    color = mapColor,
                    context = context,
                    onClick = {
                        if (context !is MapActivity) {
                            val intent = Intent(context, MapActivity::class.java)
                            context.startActivity(intent)
                        }
                    }
                )
                NavigateBarButton(
                    bannerMenu = "내 기록",
                    navigateIcon = R.drawable.inventory,
                    iconDetail = "내 기록 화면",
                    color = myRecordColor,
                    context = context,
                    onClick = {
                        if (context !is MyRecordActivity) {
                            val intent = Intent(context, MyRecordActivity::class.java)
                            context.startActivity(intent)
                        }
                    }
                )
            }
        }
    }
}

//내비게이션바 안에 들어갈 Button
//클릭시 화면 전환
@Composable
fun NavigateBarButton(
    bannerMenu: String,
    navigateIcon: Int,
    iconDetail: String,
    color: Color,
    context: Context,
    onClick: () -> Unit
//    intent: Intent
//    componentActivity: Class<out ComponentActivity>
) {

    Button(
        onClick = onClick,
        modifier = Modifier
            .fillMaxHeight()
            .width(90.dp),
        colors = ButtonDefaults.buttonColors(Color.White),
        shape = RoundedCornerShape(10.dp)
    ) {
        Column(
            horizontalAlignment = Alignment.CenterHorizontally
        ) {
            Icon(
                painter = painterResource(id = navigateIcon),
                contentDescription = iconDetail,
                tint = color
            )
            Text(
                text = bannerMenu,
                color = color,
                textAlign = TextAlign.Center,
                fontSize = 13.sp,
                fontWeight = FontWeight.Bold,
                modifier = Modifier
                    .fillMaxWidth()
            )
        }
    }
}
```
